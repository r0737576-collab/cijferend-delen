<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Staartdeling — rasterbasis</title>

<style>
/* ============================================================
   BASISSTIJLEN
   ============================================================ */
:root{
  --ink:#000;
  --grid:#c8c8c8;
  --cell:38px;       /* Excel-achtige celgrootte */
  --vline:4px;       /* verticale dikke lijn */
  --bar:4px;         /* horizontale dikke lijn */
}

body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto;
  background:#f3f3f3;
  color:#000;
}

header, .toolbar{
  background:#fff;
  border-bottom:1px solid #ddd;
  padding:.8rem 1rem;
}

.toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  align-items:center;
}

.group{
  display:flex;
  gap:.4rem;
  align-items:center;
  background:#f1f1f1;
  border:1px solid #ddd;
  border-radius:.4rem;
  padding:.3rem .5rem;
}

button{
  padding:.45rem .7rem;
  border:1px solid #bbb;
  border-radius:.4rem;
  background:white;
  cursor:pointer;
}

button:hover{
  border-color:#000;
}

main{
  padding:1rem;
}

.board{
  background:#fff;
  border:1px solid #ddd;
  border-radius:.6rem;
  padding:1rem;
  max-width:900px;
  margin:auto;
}

/* ============================================================
   RASTERDEFINITIES
   ============================================================ */

/* Algemene Excel-vakjes */
.gridcell{
  width:var(--cell);
  height:var(--cell);
  border-right:1px solid var(--grid);
  border-bottom:1px solid var(--grid);
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:600;
  font-size:1.3rem;
}

.gridcell:last-child{
  border-right:none;
}

/* Deeltal-raster */
#grid{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:var(--cell);
  grid-template-rows:var(--cell);
  border:1px solid var(--grid);
}

/* Deler-raster */
#divGrid{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:var(--cell);
  grid-template-rows:var(--cell);
  border:1px solid var(--grid);
}

/* Quotiënt-raster */
#quotGrid{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:var(--cell);
  grid-template-rows:var(--cell);
  border:1px solid var(--grid);
}

/* Grijze decimale cellen */
.gray{
  color:#888;
}

/* ============================================================
   VERTICALE & HORIZONTALE LIJNEN
   ============================================================ */
#vline{
  width:var(--vline);
  background:black;
  margin-left:.15rem;    /* superklein zoals je vroeg */
  margin-right:.35rem;
  border-radius:2px;
  align-self:stretch;
}

#hbar{
  height:var(--bar);
  background:black;
  border-radius:2px;
  margin-top:.4rem;
}

/* ============================================================
   LAYOUTSTRUCTUUR
   ============================================================ */
#gridWrapper{
  display:flex;
  align-items:flex-start;
  gap:.3rem; /* minimale ruimte */
}

#rightSide{
  display:flex;
  flex-direction:column;
  gap:.5rem;
  padding-top:.1rem;
}

</style>
</head>

<body>

<header>
  <h1>Staartdeling</h1>
</header>

<!-- ============================================================
     KNOPPEN BOVEN (NIET AANKOMEN)
     ============================================================ -->
<div class="toolbar">
  <div class="group">
    <label><input type="radio" name="rest" value="zonder" checked> uitkomst</label>
    <label><input type="radio" name="rest" value="met"> met rest</label>
  </div>

  <div class="group"><label><input type="checkbox" id="toDecimals"> tot 0,001</label></div>
  <div class="group"><label><input type="checkbox" id="enableCheck"> controle</label></div>

  <button id="btnNew">Nieuwe oefening</button>
  <button id="btnCheck">Nakijken</button>
  <button id="btnSolution">Oplossing</button>
  <button id="btnReset">Wissen</button>
</div>

<!-- ============================================================
     HOOFDBORD (LAYOUT BASIS)
     ============================================================ -->
<main>
  <section class="board">
    <div id="gridWrapper">

      <!-- LINKS: DEELTAL IN RASTER -->
      <div id="grid"></div>

      <!-- MIDDEN: DIKKE VERTICALE LIJN -->
      <div id="vline"></div>

      <!-- RECHTS: DELER + HORIZONTALE LIJN + QUOTIENT-RUIMTE -->
      <div id="rightSide">
        <div id="divGrid"></div>
        <div id="hbar"></div>
        <div id="quotGrid"></div>
      </div>

    </div>
  </section>
</main>

<script>
/* ============================================================
   JAVASCRIPT – DELETAL, DELER & QUOTIENT-RUIMTE
   ============================================================ */

(function(){

  const rnd = (a,b)=>Math.floor(Math.random()*(b-a+1))+a;
  const $ = s => document.querySelector(s);

  /* ---------- Deeltal-raster ---------- */
  function makeGrid(dividend, decimals){
    const g = $("#grid");
    g.innerHTML = "";

    // gewone cijfers
    String(dividend).split("").forEach(ch=>{
      const c = document.createElement("div");
      c.className = "gridcell";
      c.textContent = ch;
      g.appendChild(c);
    });

    // decimale uitbreiding
    if(decimals){
      // komma
      const c = document.createElement("div");
      c.className = "gridcell";
      c.textContent = ",";
      g.appendChild(c);

      // drie nullen
      for(let i=0;i<3;i++){
        const z = document.createElement("div");
        z.className = "gridcell gray";
        z.textContent = "0";
        g.appendChild(z);
      }
    }
  }

  /* ---------- Deler-raster ---------- */
  function makeDivisorGrid(divisor){
    const g = $("#divGrid");
    g.innerHTML = "";
    String(divisor).split("").forEach(ch=>{
      const c = document.createElement("div");
      c.className = "gridcell";
      c.textContent = ch;
      g.appendChild(c);
    });
  }

  /* ---------- Quotiënt-raster ---------- */
  function makeQuotGrid(dividend, decimals){
    const q = $("#quotGrid");
    q.innerHTML = "";

    const base = String(dividend).length;
    const extra = decimals ? 3 : 0;
    const total = base + extra;

    for(let i=0;i<total;i++){
      const c = document.createElement("div");
      c.className = "gridcell";
      q.appendChild(c);
    }

    /* horizontale lijn automatisch op breedte */
    const barWidth = total * parseInt(getComputedStyle(q).getPropertyValue("grid-auto-columns"));
    $("#hbar").style.width = barWidth + "px";
  }

  /* ---------- Nieuwe oefening ---------- */
  function newExercise(){
    const dividend = rnd(2,9999);
    const divisor = rnd(2,20);
    const decimals = $("#toDecimals").checked;

    makeGrid(dividend, decimals);
    makeDivisorGrid(divisor);
    makeQuotGrid(dividend, decimals);
  }

  /* ---------- Listeners ---------- */
  $("#btnNew").addEventListener("click", newExercise);
  $("#toDecimals").addEventListener("change", newExercise);

  /* Eerste laadmoment */
  newExercise();

})();
</script>

</body>
</html>
