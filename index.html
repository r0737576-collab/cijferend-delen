<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Staartdeling â€” stap 1 (deeltal + verticale lijn)</title>
<meta name="description" content="Stap 1: Deeltal links als cellen (met optionele decimalen) en een verticale dikke lijn ernaast." />
<style>
  :root{
    --ink:#111; --muted:#667085; --grid:#e5e7eb; --accent:#1f6feb;
    --paper:#ffffff; --chip:#f6f8fa;
    --vline:5px;         /* dikte van de verticale lijn */
    --cellW:2.2ch;       /* breedte van Ã©Ã©n cijfercel */
    --cellPad:.24rem;    /* padding in de cel */
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:#fafafa;color:var(--ink);font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans",Arial,sans-serif}
  header{padding:.9rem 1rem;border-bottom:1px solid var(--grid);background:#fff;position:sticky;top:0;z-index:10}
  h1{margin:0;font-size:1.35rem}
  .sub{margin:.2rem 0 0;color:var(--muted);font-size:.95rem}

  /* ðŸ”¸ Compacte instellingen (Niet aanpassen) */
  .toolbar{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap;padding:.7rem 1rem;border-bottom:1px solid var(--grid);background:#fff}
  .group{display:flex;align-items:center;gap:.5rem;background:var(--chip);border:1px solid var(--grid);border-radius:.6rem;padding:.35rem .6rem}
  .group label{display:flex;align-items:center;gap:.35rem;font-size:.95rem;white-space:nowrap}
  .btns{margin-left:auto;display:flex;gap:.5rem;flex-wrap:wrap}
  button{border:1px solid var(--grid);background:#fff;border-radius:.55rem;padding:.45rem .7rem;cursor:pointer}
  button:hover{border-color:var(--accent)}

  main{padding:1rem}
  .board{max-width:980px;margin:auto;background:var(--paper);border:1px solid var(--grid);border-radius:.9rem;padding:1rem}

  /* ðŸ”¸ Hoofdlayâ€‘out stap 1: [deeltal] | [verticale lijn] */
  .head{
    display:grid;
    grid-template-columns: auto var(--vline);
    column-gap:.75rem;
    align-items:start;
    min-height:140px; /* zorgt dat de lijn zichtbaar is, groeit mee met content */
  }

  /* Deeltal als losse cellen */
  .cells{display:flex;gap:.15rem;flex-wrap:wrap;align-items:flex-end}
  .cell{
    min-width:var(--cellW); text-align:center; padding:var(--cellPad);
    border:1px solid var(--grid); border-radius:.3rem; font-weight:700; background:#fff;
  }
  .cell.gray{background:#f2f4f7;color:#9aa0a6;border-color:#e6e9ef}
  .comma{margin:0 .1rem .2rem; font-weight:700}

  /* Dikke verticale lijn */
  .vline{
    width:var(--vline); background:var(--ink);
    align-self:stretch; justify-self:stretch; border-radius:2px;
  }

  /* (Overige secties worden later toegevoegd) */
  @media print{
    header,.toolbar,footer{display:none !important}
    main{padding:0}
    .board{border:none}
  }
</style>
</head>
<body>
  <header>
    <h1>Staartdeling</h1>
    <p class="sub">Stap 1: deeltal links + verticale dikke lijn. (Knoppen bovenaan niet aangepast.)</p>
  </header>

  <!-- ðŸ”¸ Instellingen (laten staan) -->
  <div class="toolbar" aria-label="Instellingen">
    <div class="group" role="radiogroup" aria-label="Oefeningstype">
      <label><input type="radio" name="rest" value="zonder" checked> uitkomst</label>
      <label><input type="radio" name="rest" value="met"> met rest</label>
    </div>
    <div class="group">
      <label><input type="checkbox" id="toDecimals"> tot <strong>0,001</strong></label>
    </div>
    <div class="group">
      <label><input type="checkbox" id="enableCheck"> controle</label>
    </div>

    <div class="btns">
      <button id="btnNew" type="button">Nieuwe oefening</button>
      <button id="btnCheck" type="button">Nakijken</button>
      <button id="btnSolution" type="button">Oplossing</button>
      <button id="btnReset" type="button">Wissen</button>
    </div>
  </div>

  <main>
    <section class="board" id="board" aria-label="Staartdeling">
      <div class="head">
        <!-- LINKS: deeltal als cellen -->
        <div class="cells" id="cells"></div>

        <!-- MIDDEN: dikke verticale lijn -->
        <div class="vline"></div>
      </div>
    </section>
  </main>

  <footer style="padding:1rem;color:#6b7280">
    <small>Deze stap toont enkel het deeltal en de verticale lijn. Deler/quotient/stappen voegen we in de volgende stap toe.</small>
  </footer>

<script>
/* ===== JS stap 1: alleen deeltal + verticale lijn ===== */
(function(){
  const settings = { dividendMax: 10000, divisorMax: 20 };

  const $ = s => document.querySelector(s);
  const $$ = s => [...document.querySelectorAll(s)];

  const dom = {
    rest: () => $$('input[name="rest"]').find(r=>r.checked).value,
    toDecimals: () => $('#toDecimals').checked,
    cells: () => $('#cells'),
    btnNew: () => $('#btnNew'),
    btnReset: () => $('#btnReset'),
    btnCheck: () => $('#btnCheck'),
    btnSolution: () => $('#btnSolution')
  };

  const rnd = (min,max) => Math.floor(Math.random()*(max-min+1))+min;

  // In latere stappen gebruiken we ook de deler. Nu genereren we enkel een passend deeltal.
  function generateProblem({wantNoRemainder}){
    // Voor deze stap maakt 'met/zonder rest' nog niets visueel uit; we genereren gewoon een deeltal.
    const dividend = rnd(2, settings.dividendMax);
    // Deler genereren we alvast (voor volgende stappen), maar tonen nog niet.
    let divisor = rnd(2, settings.divisorMax);
    if (!wantNoRemainder && dividend % divisor === 0) divisor += 1; // zorg dat het straks met rest kÃ¡n zijn
    return { dividend, divisor };
  }

  function clear(n){ n.innerHTML=''; }

  // â¬…ï¸ Deeltal als cellen, met optionele komma en 3 extra nullen
  function buildCells(node, dividend, toDecimals){
    clear(node);
    String(dividend).split('').forEach(d=>{
      const c=document.createElement('div'); c.className='cell'; c.textContent=d; node.appendChild(c);
    });
    if (toDecimals){
      const comma=document.createElement('div'); comma.className='comma'; comma.textContent=',';
      node.appendChild(comma);
      for(let i=0;i<3;i++){
        const z=document.createElement('div'); z.className='cell gray'; z.textContent='0'; node.appendChild(z);
      }
    }
  }

  // ===== App state & events =====
  let current = null;

  function newExercise(){
    const wantNoRemainder = (dom.rest()==='zonder');
    const prob = generateProblem({ wantNoRemainder });
    buildCells(dom.cells(), prob.dividend, dom.toDecimals());
    current = prob;
  }

  dom.btnNew().addEventListener('click', newExercise);
  dom.btnReset().addEventListener('click', ()=>{ clear(dom.cells()); });
  // De volgende twee knoppen doen in deze stap niets (blijven bestaan zoals gevraagd)
  dom.btnCheck().addEventListener('click', ()=>{ /* stap 1: geen nakijklogica */ });
  dom.btnSolution().addEventListener('click', ()=>{ /* stap 1: geen oplossing */ });

  // Veranderingen in instellingen hertekenen het deeltal
  $('#toDecimals').addEventListener('change', newExercise);
  $$('input[name="rest"]').forEach(r=> r.addEventListener('change', newExercise));

  // Init
  newExercise();
})();
</script>
</body>
</html>
