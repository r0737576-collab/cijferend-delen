<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Staartdeling â€” stap: deeltal + lijn + deler + horizontale balk</title>
<style>
  :root{
    --ink:#000;
    --grid:#d0d5dd;
    --paper:#fff;
    --vline:4px;
    --bar:4px;
    --cellW:2.2ch;
    --cellPad:.22rem;
  }
  *{box-sizing:border-box}
  body{
    font-family:system-ui,-apple-system,"Segoe UI",Roboto;
    margin:0; background:#f7f7f7; color:#000;
  }
  header, .toolbar{background:#fff;border-bottom:1px solid var(--grid);padding:.8rem 1rem}

  /* --- compact houden zoals jij vroeg --- */
  .toolbar{display:flex;flex-wrap:wrap;gap:.6rem;align-items:center}
  .group{display:flex;gap:.4rem;align-items:center;background:#f2f4f7;
         border:1px solid var(--grid);border-radius:.5rem;padding:.3rem .5rem}
  button{padding:.4rem .7rem;border:1px solid var(--grid);border-radius:.5rem;background:#fff;cursor:pointer}

  main{padding:1rem}
  .board{
    background:var(--paper);border:1px solid var(--grid);
    padding:1rem;border-radius:.8rem;max-width:900px;margin:auto;
  }

  /* ðŸ”¥ DE BELANGRIJKE LAYOUT VAN DIT MOMENT ðŸ”¥ */

  .layout{
    display:grid;
    grid-template-columns:auto var(--vline) auto;
    column-gap:.3rem;     /* << heel kleine afstand zoals jij vroeg */
    align-items:start;
  }

  /* Deeltal links */
  .cells{display:flex;gap:.1rem;align-items:flex-end}
  .cell{
    min-width:var(--cellW);
    padding:var(--cellPad);
    text-align:center;
    border:1px solid var(--grid);
    border-radius:.3rem;
    font-weight:700;
    background:#fff;
  }
  .comma{margin:0 .1rem;font-weight:700}
  .gray{background:#e8eaef;color:#999}

  /* Dikke verticale lijn */
  .vline{
    width:var(--vline);
    background:var(--ink);
    min-height:140px;
    border-radius:2px;
  }

  /* Rechterkant: deler en horizontale balk */
  .right{
    display:flex;
    flex-direction:column;
    align-items:flex-start;
    gap:.4rem;
    padding-top:.2rem;
  }
  .divisorBox{
    border:2px solid var(--ink);
    padding:.25rem .6rem;
    font-weight:700;
    border-radius:.3rem;
    background:#fff;
  }
  .hbar{
    height:var(--bar);
    width:120px;          /* voorlopig vaste waarde â†’ straks dynamisch */
    background:var(--ink);
    border-radius:2px;
  }
</style>
</head>
<body>

<header>
  <h1>Staartdeling</h1>
</header>

<!-- ðŸŸ© KNOPPEN NIET AANRAKEN -->
<div class="toolbar">
  <div class="group">
    <label><input type="radio" name="rest" value="zonder" checked> uitkomst</label>
    <label><input type="radio" name="rest" value="met"> met rest</label>
  </div>
  <div class="group"><label><input type="checkbox" id="toDecimals"> tot 0,001</label></div>
  <div class="group"><label><input type="checkbox" id="enableCheck"> controle</label></div>

  <button id="btnNew">Nieuwe oefening</button>
  <button id="btnCheck">Nakijken</button>
  <button id="btnSolution">Oplossing</button>
  <button id="btnReset">Wissen</button>
</div>

<main>
  <section class="board">
    <div class="layout">

      <!-- ðŸ”¹ Deeltal links -->
      <div class="cells" id="cells"></div>

      <!-- ðŸ”¹ Verticale lijn -->
      <div class="vline"></div>

      <!-- ðŸ”¹ Deler + horizontale balk -->
      <div class="right">
        <div class="divisorBox" id="divisor">23</div>
        <div class="hbar" id="hbar"></div>
      </div>

    </div>
  </section>
</main>

<script>
(function(){
  const $ = s => document.querySelector(s);
  const $$ = s => [...document.querySelectorAll(s)];

  const settings = { dividendMax:9999, divisorMax:20 };

  function rnd(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

  function buildCells(dividend,toDec){
    const wrap = $("#cells");
    wrap.innerHTML = "";

    // Cijfer per cel
    String(dividend).split("").forEach(d=>{
      const c = document.createElement("div");
      c.className = "cell";
      c.textContent = d;
      wrap.appendChild(c);
    });

    if(toDec){
      const comma = document.createElement("div");
      comma.className = "comma";
      comma.textContent = ",";
      wrap.appendChild(comma);

      for(let i=0;i<3;i++){
        const z = document.createElement("div");
        z.className = "cell gray";
        z.textContent = "0";
        wrap.appendChild(z);
      }
    }
  }

  function newExercise(){
    const dividend = rnd(2, settings.dividendMax);
    const divisor = rnd(2, settings.divisorMax);

    buildCells(dividend, $("#toDecimals").checked);
    $("#divisor").textContent = divisor;
  }

  // knoppen reageren
  $("#btnNew").addEventListener("click", newExercise);
  $("#toDecimals").addEventListener("change", newExercise);

  // init
  newExercise();
})();
</script>

</body>
</html>
